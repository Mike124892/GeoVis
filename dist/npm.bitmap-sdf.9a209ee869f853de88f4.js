"use strict";(self.webpackChunkgeovis=self.webpackChunkgeovis||[]).push([[799],{7288:a=>{a.exports=function(a,n){n||(n={});var e,o,i,w,h,d,f,s,l,g,v,y=null==n.cutoff?.25:n.cutoff,u=null==n.radius?8:n.radius,A=n.channel||0;if(ArrayBuffer.isView(a)||Array.isArray(a)){if(!n.width||!n.height)throw Error("For raw data width and height should be provided by options");e=n.width,o=n.height,w=a,d=n.stride?n.stride:Math.floor(a.length/e/o)}else window.HTMLCanvasElement&&a instanceof window.HTMLCanvasElement?(f=(s=a).getContext("2d"),e=s.width,o=s.height,w=(l=f.getImageData(0,0,e,o)).data,d=4):window.CanvasRenderingContext2D&&a instanceof window.CanvasRenderingContext2D?(f=a,e=(s=a.canvas).width,o=s.height,w=(l=f.getImageData(0,0,e,o)).data,d=4):window.ImageData&&a instanceof window.ImageData&&(l=a,e=a.width,o=a.height,w=l.data,d=4);if(i=Math.max(e,o),window.Uint8ClampedArray&&w instanceof window.Uint8ClampedArray||window.Uint8Array&&w instanceof window.Uint8Array)for(h=w,w=Array(e*o),g=0,v=Math.floor(h.length/d);g<v;g++)w[g]=h[g*d+A]/255;else if(1!==d)throw Error("Raw data can have only 1 value per pixel");var c=Array(e*o),m=Array(e*o),p=Array(i),M=Array(i),C=Array(i+1),x=Array(i);for(g=0,v=e*o;g<v;g++){var D=w[g];c[g]=1===D?0:0===D?r:Math.pow(Math.max(0,.5-D),2),m[g]=1===D?r:0===D?0:Math.pow(Math.max(0,D-.5),2)}t(c,e,o,p,M,x,C),t(m,e,o,p,M,x,C);var b=window.Float32Array?new Float32Array(e*o):new Array(e*o);for(g=0,v=e*o;g<v;g++)b[g]=Math.min(Math.max(1-((c[g]-m[g])/u+y),0),1);return b};var r=1e20;function t(a,r,t,e,o,i,w){for(var h=0;h<r;h++){for(var d=0;d<t;d++)e[d]=a[d*r+h];for(n(e,o,i,w,t),d=0;d<t;d++)a[d*r+h]=o[d]}for(d=0;d<t;d++){for(h=0;h<r;h++)e[h]=a[d*r+h];for(n(e,o,i,w,r),h=0;h<r;h++)a[d*r+h]=Math.sqrt(o[h])}}function n(a,t,n,e,o){n[0]=0,e[0]=-r,e[1]=+r;for(var i=1,w=0;i<o;i++){for(var h=(a[i]+i*i-(a[n[w]]+n[w]*n[w]))/(2*i-2*n[w]);h<=e[w];)w--,h=(a[i]+i*i-(a[n[w]]+n[w]*n[w]))/(2*i-2*n[w]);n[++w]=i,e[w]=h,e[w+1]=+r}for(i=0,w=0;i<o;i++){for(;e[w+1]<i;)w++;t[i]=(i-n[w])*(i-n[w])+a[n[w]]}}}}]);